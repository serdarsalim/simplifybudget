<!-- Sidebar component for SimBudget -->
<aside id="sidebar" class="sb-sidebar">
  <!-- Sidebar Header -->
  <div class="sb-sidebar-header">
    <div class="sb-logo">
      <i class="material-icons">account_balance</i>
      <span class="sb-logo-text" data-translate="app_title">Simplify</span>
    </div>
    <button id="toggleSidebar" class="sb-toggle-btn" aria-label="Toggle Sidebar">
      <i class="material-icons">menu</i>
    </button>
  </div>
  
  <!-- Navigation Items -->
  <nav class="sb-sidebar-nav">
    <ul class="sb-nav-list">
      <li class="sb-nav-item active" data-view="budget">
        <a href="#budget" class="sb-nav-link">
          <i class="material-icons">account_balance_wallet</i>
          <span class="sb-nav-text" data-translate="budget">Budget</span>
        </a>
      </li>
      <li class="sb-nav-item" data-view="expense">
        <a href="#expense" class="sb-nav-link">
          <i class="material-icons">receipt_long</i>
          <span class="sb-nav-text" data-translate="expenses">Expenses</span>
        </a>
      </li>
      <li class="sb-nav-item" data-view="income">
        <a href="#income" class="sb-nav-link">
          <i class="material-icons">payments</i>
          <span class="sb-nav-text" data-translate="income_title">Income</span>
        </a>
      </li>
      <li class="sb-nav-item" data-view="recurring">
        <a href="#recurring" class="sb-nav-link">
          <i class="material-icons">repeat</i>
          <span class="sb-nav-text" data-translate="recurring">Recurring</span>
        </a>
      </li>
      <li class="sb-nav-item" data-view="netWorth">
        <a href="#netWorth" class="sb-nav-link">
          <i class="material-icons">trending_up</i>
          <span class="sb-nav-text" data-translate="net_worth_title">Net Worth</span>
        </a>
      </li>
      <li class="sb-nav-item" data-view="reports" style="display: none;">
        <a href="#reports" class="sb-nav-link">
          <i class="material-icons">bar_chart</i>
          <span class="sb-nav-text" data-translate="reports">Reports</span>
        </a>
      </li>
      <li class="sb-nav-item" data-view="categories">
          <a href="#categories" class="sb-nav-link">
            <i class="material-icons">category</i>
            <span class="sb-nav-text" data-translate="categories">Categories</span>
          </a>
        </li>
<li class="sb-nav-item">
  <a href="#" onclick="SimBudget.openSpreadsheet(); return false;" class="sb-nav-link">
    <i class="material-icons">table_chart</i>
    <span class="sb-nav-text">Open Spreadsheet</span>
  </a>
</li>
        
    </ul>
  </nav>

  
      
  
  <!-- Sidebar Footer -->
  <div class="sb-sidebar-footer">
    
    <div class="sb-settings-link">
      <li class="sb-nav-item" data-view="settings">
        <a href="#settings" class="sb-nav-link">
          <i class="material-icons">settings</i>
          <span class="sb-nav-text" data-translate="settings">Settings</span>
        </a>
      </li>
    </div>
    <div class="sb-app-info">
      <a href="https://simplifybudget.com/" target="_blank" class="sb-version-link">
  <span class="sb-version notranslate">Simplify Budget v1.0</span>
</a>
      <span class="sb-disclaimer" data-translate="educational_disclaimer">Only for educational purposes. Not for real financial advice.</span>
    </div>
  </div>
</aside>

<!-- Sidebar Backdrop for Mobile -->
<div id="sidebarBackdrop" class="sb-backdrop"></div>

<!-- Mobile menu toggle button -->
<button id="mobileSidebarToggle" class="sb-mobile-toggle" aria-label="Open Menu">
  <i class="material-icons">menu</i>
</button>

<script>

</script>

<style>

/* Settings link special styling */
.sb-settings-link {
  margin: 2px 0;
  list-style: none;
}

/* Update active state selector to include settings */
.sb-nav-item.active .sb-nav-link,
.sb-settings-link .sb-nav-link.active {
  background-color: rgba(44, 62, 80, 0.12);
  color: var(--sb-primary);
  font-weight: 500;
}

/* App container enhancement */
.app-container {
  display: flex !important; /* Keep flex display */
  position: relative; /* Ensure proper positioning context */
  height: 100vh;
  overflow: hidden;
}

/* Mobile-specific overrides to ensure full width */
@media (max-width: 991px) {
  .content-area, 
  .app-container > .content-area,
  .sb-content-area {
    width: 100% !important;
    margin-left: 0 !important;
    padding-left: 0 !important;
    left: 0 !important;
    flex: 1 !important; /* Ensure content area takes available space */
  }
  
  /* Fix flex layout for mobile */
  .app-container {
    padding-left: 0 !important; /* Remove any padding for sidebar */
  }
  
  /* Ensure sidebar is fully off-canvas */
  .sb-sidebar {
    position: fixed !important;
    left: 0 !important;
    transform: translateX(-100%) !important;
    width: var(--sb-sidebar-width) !important;
    max-width: 85vw !important;
    flex: 0 0 auto !important; /* Don't grow or shrink */
  }
  
  .sb-sidebar.sb-open {
    transform: translateX(0) !important;
  }
}

/* SimBudget Sidebar - Dashboard Style Matching */

/* Variables - Updated to Match Dashboard */
:root {
  /* Colors - Dashboard Palette */
  --sb-primary: #2c3e50;
  --sb-primary-light: #DDA15E;
  --sb-primary-dark: #1e2b37;
  --sb-accent: #fe9aa1;
  --sb-background: #fffaf1;
  --sb-surface: #ffffff;
  --sb-text-primary: rgba(44, 62, 80, 0.87);
  --sb-text-secondary: rgba(44, 62, 80, 0.6);
  --sb-border: rgba(44, 62, 80, 0.12);
  
  /* Dark mode colors */
  --sb-dark-background: #1e1e1e;
  --sb-dark-surface: #1e1e1e;
  --sb-dark-text-primary: rgba(255, 255, 255, 0.87);
  --sb-dark-text-secondary: rgba(255, 255, 255, 0.6);
  --sb-dark-border: rgba(255, 255, 255, 0.12);
  
  /* Layout */
  --sb-sidebar-width: 260px;
  --sb-header-height: 60px;
  
  /* Animation */
  --sb-transition-fast: 0.2s;
  --sb-transition-normal: 0.3s;
}

/* Base Sidebar Styles */
.sb-sidebar {
  height: 100%;
  width: var(--sb-sidebar-width);
  max-width: 85vw;
  background-color: var(--sb-surface);
  color: var(--sb-text-primary);
  display: flex;
  flex-direction: column;
  z-index: 1000;
  border-radius: 0px;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
  overflow-y: auto;
  scrollbar-width: thin;
  flex: 0 0 auto; /* Don't grow or shrink in flexbox */
}

/* Mobile-only styles */
@media (max-width: 991px) {
  .sb-sidebar {
    position: fixed;
    top: 0;
    left: 0;
    transform: translateX(-100%);
    transition: transform var(--sb-transition-normal) cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .sb-sidebar.sb-open {
    transform: translateX(0);
  }
}

/* For Chrome/Edge/Safari */
.sb-sidebar::-webkit-scrollbar {
  width: 4px;
}

.sb-sidebar::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 0px;
}

.sb-sidebar.sb-open {
  transform: translateX(0);
}

/* Backdrop for mobile view */
.sb-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 999;
  opacity: 0;
  visibility: hidden;
  transition: opacity var(--sb-transition-normal), visibility var(--sb-transition-normal);
}

.sb-backdrop.sb-visible {
  opacity: 1;
  visibility: visible;
}

/* Sidebar Header - Coral Background */
.sb-sidebar-header {
  height: var(--sb-header-height);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  border-bottom: 1px solid var(--sb-border);
  background-color: #89c2d9;
  border-radius: 0px;
}

.sb-logo {
  display: flex;
  align-items: center;
  font-weight: 500;
  font-size: 1.2rem;
  color: #2c3e50;
  font-family: 'Lato', sans-serif;
  font-weight: 700;
}

.sb-logo i {
  margin-right: 10px;
  color: #2c3e50; /* Ensure icon has the same color */
}

.sb-toggle-btn {
  background: none;
  border: none;
  color: #2c3e50;
  cursor: pointer;
  width: 40px;
  height: 40px;
  border-radius: 0px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color var(--sb-transition-fast);
}

.sb-toggle-btn:hover {
  background-color: rgba(0, 0, 0, 0.04);
}

/* Sidebar Navigation */
.sb-sidebar-nav {
  flex: 1;
  padding: 16px 0;
}

.sb-nav-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sb-nav-item {
  margin: 2px 0;
}

.sb-nav-link {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  text-decoration: none;
  color: var(--sb-text-primary);
  transition: background-color var(--sb-transition-fast), color var(--sb-transition-fast);
  border-radius: 0px;
}

.sb-nav-link:hover {
  background-color: rgba(0, 0, 0, 0.04);
}

.sb-nav-item.active .sb-nav-link {
  background-color: rgba(44, 62, 80, 0.12);
  color: var(--sb-primary);
  font-weight: 500;
}

.sb-nav-link i {
  margin-right: 16px;
}

/* Sidebar Footer */
.sb-sidebar-footer {
  padding: 16px;
  border-top: 1px solid var(--sb-border);
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.sb-user-info {
  display: flex;
  align-items: center;
  color: var(--sb-text-secondary);
  font-size: 0.9rem;
}

.sb-user-info i {
  margin-right: 8px;
}

.sb-app-info {
  display: flex;
  flex-direction: column;
  font-size: 0.75rem;
  color: var(--sb-text-secondary);
}

/* Content Adjustments */
.sb-content-area {
  transition: margin-left var(--sb-transition-normal) cubic-bezier(0.4, 0, 0.2, 1);
  width: 100%;
  margin-left: 0 !important; /* Ensure no margin on mobile */
}

/* Toggle Button in Main Content for Mobile - Sharp Design */
.sb-mobile-toggle {
  position: fixed;
  bottom: 20px;
  left: 20px;
  width: 48px;
  height: 48px;
  border-radius: 0px;
  background-color: var(--sb-primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  border-top: 1px solid rgba(0, 0, 0, 0.5);
  border-left: 1px solid rgba(0, 0, 0, 0.5);
  border-right: 4px solid #334a60;
  border-bottom: 4px solid #334a60;
  cursor: pointer;
  z-index: 998;
  transition: transform var(--sb-transition-fast), background-color var(--sb-transition-fast);
}

.sb-mobile-toggle:hover {
  background-color: var(--sb-primary-dark);
  transform: scale(1.05);
}

/* Dark Mode - Dashboard Style */
body.dark-mode .sb-sidebar {
  background-color: #344960 !important;
  color: var(--sb-dark-text-primary);
  border-color: var(--sb-dark-border);
}

/* Header becomes dark in dark mode */
body.dark-mode .sb-sidebar-header {
  background-color: #344960 !important;
  border-color: var(--sb-dark-border);
}

body.dark-mode .sb-logo {
  color: var(--sb-dark-text-primary) !important;
}

body.dark-mode .sb-logo i {
  color: var(--sb-dark-text-primary) !important;
}

body.dark-mode .sb-toggle-btn {
  color: var(--sb-dark-text-primary) !important;
}

body.dark-mode .sb-nav-link:hover {
  background-color: rgba(255, 255, 255, 0.08);
}

body.dark-mode .sb-sidebar * { 
  color: rgba(255, 255, 255, 0.87) !important; 
}

/* Active nav items get golden color in dark mode */
body.dark-mode .sb-nav-item.active .sb-nav-link,
body.dark-mode .sb-settings-link .sb-nav-link.active {
  background-color: rgba(221, 161, 94, 0.25);
  color: #DDA15E !important;
}

body.dark-mode .sb-sidebar-header,
body.dark-mode .sb-sidebar-footer {
  border-color: var(--sb-dark-border);
}

/* Mobile toggle dark mode */
body.dark-mode .sb-mobile-toggle {
  background-color: #DDA15E;
  color: #1e1e1e;
}

body.dark-mode .sb-mobile-toggle:hover {
  background-color: #c9955a;
}

/* Desktop Styles (Media Queries) */
@media (min-width: 992px) {
  /* Show sidebar by default on desktop */
  .sb-sidebar {
    position: relative;
    max-width: var(--sb-sidebar-width);
    transform: none; /* No transform on desktop */
  }
  
  /* Hidden sidebar variant for desktop */
  .sb-sidebar.sb-collapsed {
    width: 60px;
    min-width: 60px;
  }
  
  /* Hide logo and other text elements when collapsed */
  .sb-sidebar.sb-collapsed .sb-logo {
    display: none; /* Hide the entire logo container */
  }
  
  .sb-sidebar.sb-collapsed .sb-nav-text,
  .sb-sidebar.sb-collapsed .sb-user-email,
  .sb-sidebar.sb-collapsed .sb-app-info {
    display: none;
  }
  
  /* Center the toggle button when collapsed */
  .sb-sidebar.sb-collapsed .sb-sidebar-header {
    justify-content: center;
    padding: 0;
  }
  
  .sb-sidebar.sb-collapsed .sb-toggle-btn {
    margin: 0;
  }
  
  /* Content adjustments not needed in flex layout */
  /* Content will automatically adjust with flex */
  
  /* Hide mobile-only elements */
  .sb-mobile-toggle {
    display: none;
  }
}

</style>